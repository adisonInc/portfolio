---
import Small from "./Small.astro";
import Cred from "../Cred.astro";

---

<script>
    import type { toCodes } from "astro:i18n";
    import { gsap } from "gsap";
    import { TextPlugin } from "gsap/TextPlugin";
    gsap.registerPlugin(TextPlugin);

    import { ScrollTrigger } from "gsap/ScrollTrigger";
    gsap.registerPlugin(ScrollTrigger);

    // gsap
    //     // height: "+=20vw",
    //     scrollTrigger: {
    //         trigger: ".trig",
    //         start: "top center",
    //         end: "+300%",
    //         markers: true,
    //         scrub: 1,
    //     },
    // });
  
    let planetsTimeline = gsap.timeline({
    scrollTrigger: {
      
        trigger: ".trig",
        pin: ".trigEnd",
        start: "top center",
        markers: true,
        end:"4500px",
        //markers: true,
        scrub: 1,
        
    }
});

planetsTimeline
    .to(".box", {
        left: "0",
         scale: 1.5,
         duration: 30,
    })

    .to([".elpis",".planets"], {
        rotate: "+=360",
       
      
        duration: "30",
    },"<")
   

    .to([".elpis",".planets"], {
        x: "-=5vw",
        scale: 1.5,
        duration: "15",
    })

  
   
    .to(".cred-inner", {
    duration: 30,
    text: 'Kamil Plakwicz \n Projekt 1',
    ease: "power1.inOut",
    }, )
    .to([".elpis",".planets"], {
        rotate: "+=90",
      
        duration: "30",
    },)
    .to(".cred-inner", {
    duration: 30,
    text: 'Projekt 2',
    ease: "power1.inOut",
    }, )
    .to([".elpis",".planets"], {
        rotate: "+=90",
      
        duration: "30",
    },)
    .to(".cred-inner", {
    duration: 30,
    text: 'Kamil Plakwicz \n Projekt 2',
    ease: "power1.inOut",
    }, )
    .to(".box", {
    duration: 30,
        scale: 1,
    }, )
   
    
   
     


</script>

<div class="trig"></div>
<div class="trigEnd"></div>

<div class="trigStop"></div>

<div class="box">
    <div class="orbit">
        <img class="elpis" src="src/assets/circle1.svg" alt="elipsa" />
        <!-- <svg class="elpis" height="100" width="100" xmlns="http://www.w3.org/2000/svg">
            <circle r="45" cx="50" cy="50" fill="red" fill-opacity="0" stroke="cyan" stroke-width="3" opacity="0.5" />
        </svg> -->
        <div class="planets">
            <Small color="#00879E" top="0%" left="50%" />
            <Small color="#AA60C8" top="50%" left="0%" />
            <Small color="#B3D8A8" top="100%" left="50%" />

           
            <Small color="#E195AB" top="50%" left="100%" />
            <!-- <Small color="#bd75d8" top="15%" left="15%" /> -->
            <!-- <Small color="#bd75d8" top="15%" left="85%" /> -->
            <!-- <Small color="#bd75d8" top="85%" left="85%" /> -->
         </div>
   
    </div>
   
   
</div>
<Cred class="cred"></Cred>
<Cred class=".cred2"></Cred>


<div class="scroll-area"></div>

<style>
    .planets {
     
        
        position: absolute;
        opacity: 15;
        height: 39vw;
        width: 39vw;
        top: 50%;
        left: 50%;
        /* background-color: aqua; */
        transform: translate(-50%, -50%) ;
    }

    .orbit {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
    .elpis {
        
        height: 45vw;
        
        
    }
  
    .trig {
        position: absolute;
        top: 200%;
        height: 100vh;
        width: 100%;

        /* background-color: rgb(0, 157, 248); */
    }
    .trigEnd {
        position: absolute;
        top: 5%;
        height: 10vh;
        width: 100%;
        /* background-color: rgb(0, 157, 248); */
    }
    .container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
    }
    .box {
        position: fixed; /* Użycie position: fixed, aby kula była przypięta do ekranu */
        top: 50%; /* Wyśrodkowanie w pionie */
        left: 50%; /* Wyśrodkowanie w poziomie */
        width: 20vw;
        height: 20vw;
        border-radius: 50%;
        background-color: #A7E6FF;
        transform: translate(-50%, -50%); /* Dokładne wyśrodkowanie */
    }
    .scroll-area {
        height: 220vh; /* Symulacja scrollowania */
        position: relative;
        top: 0;
        left: 0;
        width: 100%;
    }
</style>
